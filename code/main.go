package main

import (
	"fmt"
	"math/rand"
	"strings"
	"time"
	"unicode/utf16"
)

const CONTENT_PAGE string = "http://subscribe.atlanbox.com/content"

var mtMessagesTemplate []string = []string{
	"Today's fancy games you can not miss: " + CONTENT_PAGE + "/th/mk/game",
	"New amazing games is ready: " + CONTENT_PAGE + "/th/mk/game",
	"Play today's new game: " + CONTENT_PAGE + "/th/mk/game",
	"Here is today's new game for you: " + CONTENT_PAGE + "/th/mk/ugame",
	"People around the world are crazy about these game: " + CONTENT_PAGE + "/th/mk/ugame",
	"Meet the most popular games: " + CONTENT_PAGE + "/th/mk/ugame",
}

func hexUTF16FromString(s string) string {
	hex := fmt.Sprintf("%04x", utf16.Encode([]rune(s)))
	return strings.Replace(hex[1:len(hex)-1], " ", "", -1)
}

func RandomInt(min, max int) int {
	rand.Seed(time.Now().UTC().UnixNano())
	return min + rand.Intn(max) // [0~max)
}

func main() {

	// AIS
	// senderid=4541554&to=66865333833&cat=1&text=0E020E2D0E1A0E040E380E130E170E350E480E430E0A0E490E1A0E230E340E010E320E23002000460061006E00630079002000470061006D0065007300200E040E480E320E1A0E230E340E010E320E230020003600200E1A0E320E17002F0053004D00530020003100200053004D0053002F0E270E310E1900200048006F0074006C0069006E0065003A00300032002D003100310035003800380031003400200E220E010E400E250E340E010E1E0E340E210E1E0E4C002000530054004F00500020004B004F00200E2A0E480E070E440E1B0E170E350E4800200034003500340031003500350034&price=6&keyword=BATTLE&linkid=14002402599&telcoid=3&from=4541554&type=5&user=ABC&pass=ABC123
	// text ขอบคุณที่ใช้บริการ Top Games ค่าบริการ 6 บาท/SMS 1 SMS/วัน Hotline:02-1158814 ยกเลิกพิมพ์ STOP KO ส่งไปที่ 4541554
	// senderid=4541554&to=66865333833&cat=1&text=0E020E2D0E1A0E040E380E130E170E350E480E430E0A0E490E1A0E230E340E010E320E23002000460061006E00630079002000470061006D0065007300200E040E480E320E1A0E230E340E010E320E230020003600200E1A0E320E17002F0053004D00530020003100200053004D0053002F0E270E310E1900200048006F0074006C0069006E0065003A00300032002D003100310035003800380031003400200E220E010E400E250E340E010E1E0E340E210E1E0E4C002000530054004F005000200062006100740074006C006500200E2A0E480E070E440E1B0E170E350E4800200034003500340031003500350034&price=6&keyword=BATTLE&linkid=14002402599&telcoid=1&from=4541554&type=5&user=ABC&pass=ABC123

	// senderid=4541554&to=6686533833&cat=2&text=0E140E320E270E190E4C0E420E2B0E250E140E400E010E210E270E310E190E190E350E49002000200068007400740070003A002F002F007300750062007300630072006900620065002E00610074006C0061006E0062006F0078002E0063006F006D002F00740072006100630069006E0067003F0063003D0074006800260061003D007500670061006D00650026006D003D006D006B&price=6&keyword=KO&telcoid=1&from=4541554&type=5&user=ABC&pass=ABC123
	// senderid=4541554&to=6686533833&cat=2&text=0E140E320E270E190E4C0E420E2B0E250E140E400E010E210E270E310E190E190E350E49002000200068007400740070003A002F002F007300750062007300630072006900620065002E00610074006C0061006E0062006F0078002E0063006F006D002F00740072006100630069006E0067003F0063003D0074006800260061003D00670061006D00650026006D003D006D006B&price=6&keyword=BATTLE&telcoid=3&from=4541554&type=5&user=ABC&pass=ABC123

	//str := "ขอบคุณที่ใช้บริการ Top Games ค่าบริการ 6 บาท/SMS 1 SMS/วัน Hotline:02-1158814 ยกเลิกพิมพ์ STOP KO ส่งไปที่ 4541554"
	//str := "ขอบคุณที่ใช้บริการ Fancy Games ค่าบริการ 6 บาท/SMS 1 SMS/วัน Hotline:02-1158814 ยกเลิกพิมพ์ STOP battle ส่งไปที่ 4541554"
	//str := "ดาวน์โหลดเกมวันนี้  http://subscribe.atlanbox.com/tracing?c=th&a=ugame&m=mk"
	//str := "ดาวน์โหลดเกมวันนี้  http://subscribe.atlanbox.com/tracing?c=th&a=game&m=mk"

	//str := "เล่นเกมที่น่าตื่นตาตื่นใจในวันนี้: http://subscribe.atlanbox.com/content/en/mk/ugame/2017/08/25"
	//fmt.Println(str)
	//hex := hexUTF16FromString(str)
	//fmt.Println(strings.ToUpper(hex))

	t := time.Now().Format("20060102")
	index := RandomInt(3, 3)
	content := mtMessagesTemplate[index] + "/" + t
	fmt.Println("&text="+hexUTF16FromString(content), t, index)
}
